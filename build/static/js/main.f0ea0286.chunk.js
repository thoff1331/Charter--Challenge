(this.webpackJsonpcharter=this.webpackJsonpcharter||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"value":null,"label":"..."},{"value":"Steak","label":"Steak"},{"value":"American","label":"American"},{"value":"Contemporary","label":"Contemporary"},{"value":"Food and Dining","label":"Food and Dining"},{"value":"Restaurants","label":"Restaurants"},{"value":"Irish","label":"Irish"},{"value":"European","label":"European"},{"value":"Steahouses","label":"Steahouses"},{"value":"Japanese","label":"Japanese"},{"value":"Sushi","label":"Sushi"},{"value":"Asian","label":"Asian"},{"value":"Seafood","label":"Seafood"},{"value":"Cafe","label":"Cafe"},{"value":"Social","label":"Social"},{"value":"French","label":"French"},{"value":"Bars","label":"Bars"},{"value":"Italian","label":"Italian"},{"value":"Coffee","label":"Coffee"},{"value":"Tea Houses","label":"Tea Houses"},{"value":"International","label":"International"},{"value":"Sandwiches","label":"Sandwiches"},{"value":"Vegetarian","label":"Vegetarian"},{"value":"Traditional","label":"Traditional"},{"value":"Italian","label":"Italian"},{"value":"Coffee","label":"Coffee"},{"value":"Tea Houses","label":"Tea Houses"},{"value":"International","label":"International"},{"value":"Sandwiches","label":"Sandwiches"},{"value":"Vegetarian","label":"Vegetarian"},{"value":"Traditional","label":"Traditional"}]')},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t(1),s=t.n(n),r=t(9),i=t.n(r),c=(t(16),t(3)),u=t(4),o=t(6),h=t(5),b=(t(17),t(2)),d="LEFT",v="RIGHT",g=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=e,n=[];l<=a;)n.push(l),l+=t;return n},j=function(e){Object(o.a)(t,e);var a=Object(h.a)(t);function t(e){var l;Object(c.a)(this,t),(l=a.call(this,e)).gotoPage=function(e){var a=l.props.onPageChanged,t=void 0===a?function(e){return e}:a,n=Math.max(0,Math.min(e,l.totalPages)),s={currentPage:n,totalPages:l.totalPages,pageLimit:l.pageLimit,totalRecords:l.totalRecords};l.setState({currentPage:n},(function(){return t(s)}))},l.handleClick=function(e,a){a.preventDefault(),l.gotoPage(e)},l.handleMoveLeft=function(e){e.preventDefault(),l.gotoPage(l.state.currentPage-2*l.pageNeighbours-1)},l.handleMoveRight=function(e){e.preventDefault(),l.gotoPage(l.state.currentPage+2*l.pageNeighbours+1)},l.fetchPageNumbers=function(){var e=l.totalPages,a=l.state.currentPage,t=l.pageNeighbours,n=2*l.pageNeighbours+3;if(e>n+2){var s=[],r=a-t,i=a+t,c=e-1,u=r>2?r:2,o=i<c?i:c,h=n-(s=g(u,o)).length-1,j=u>2,m=o<c,f=d,p=v;if(j&&!m){var O=g(u-h,u-1);s=[f].concat(Object(b.a)(O),Object(b.a)(s))}else if(!j&&m){var x=g(o+1,o+h);s=[].concat(Object(b.a)(s),Object(b.a)(x),[p])}else j&&m&&(s=[f].concat(Object(b.a)(s),[p]));return[1].concat(Object(b.a)(s),[e])}return g(1,e)};var n=e.totalRecords,s=void 0===n?null:n,r=e.pageLimit,i=void 0===r?10:r,u=e.pageNeighbours,o=void 0===u?0:u;return l.pageLimit="number"===typeof i?i:30,l.totalRecords="number"===typeof s?s:0,l.pageNeighbours="number"===typeof o?Math.max(0,Math.min(o,2)):0,l.totalPages=Math.ceil(l.totalRecords/l.pageLimit),l.state={currentPage:1},l}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var a=this.state.currentPage,t=this.fetchPageNumbers();return Object(l.jsx)(n.Fragment,{children:Object(l.jsx)("nav",{"aria-label":"Restaurants Pagination",children:Object(l.jsx)("ul",{className:"pagination",children:t.map((function(t,n){return t===d?Object(l.jsx)("li",{className:"page-item",children:Object(l.jsxs)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft,children:[Object(l.jsx)("span",{"aria-hidden":"true",children:"\xab"}),Object(l.jsx)("span",{className:"sr-only",children:"Previous"})]})},n):t===v?Object(l.jsx)("li",{className:"page-item",children:Object(l.jsxs)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight,children:[Object(l.jsx)("span",{"aria-hidden":"true",children:"\xbb"}),Object(l.jsx)("span",{className:"sr-only",children:"Next"})]})},n):Object(l.jsx)("li",{className:"page-item".concat(a===t?" active":""),children:Object(l.jsx)("a",{className:"page-link",href:"#",onClick:function(a){return e.handleClick(t,a)},children:t})},n)}))})})})}}]),t}(n.Component),m=t(8),f=t(10),p=function(e){Object(o.a)(t,e);var a=Object(h.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).onChangePage=function(a){var t=e.state.allItems,l=a.currentPage,n=a.totalPages,s=a.pageLimit,r=(l-1)*s,i=t.slice(r,r+s);e.setState({currentPage:l,currentItems:i,totalPages:n})},e.tableData=function(e){return e.map((function(e,a){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.address1}),Object(l.jsx)("td",{children:e.city}),Object(l.jsx)("td",{children:e.state}),Object(l.jsx)("td",{children:e.telephone}),Object(l.jsx)("td",{children:e.genre}),Object(l.jsx)("td",{children:e.attire})]},a)}))},e.createHeader=function(){return["Name","Address","City","State","Phone Number","Genre","Attire"].map((function(e,a){return Object(l.jsx)("th",{children:e.toUpperCase()},a)}))},e.editSearchTerm=function(a){e.setState({searchTerm:a.target.value})},e.dynamicSearch=function(){return e.state.allItems.filter((function(a){return a.includes(e.state.searchTerm)||a.city===e.state.searchTerm||a.genre.includes(e.state.searchTerm)}))},e.handleGenreChange=function(a){e.setState({genre:a.target.value})},e.handleLocationChange=function(a){e.setState({location:a.target.value})},e.resetFilters=function(){e.setState({location:m[0].label,genre:null}),window.location.reload()},e.state={allItems:[],currentItems:[],currentPage:null,totalPages:null,searchTerm:"",genre:null,location:null},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()})).then((function(a){e.setState({allItems:a})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.allItems,n=a.currentItems,s=a.currentPage,r=a.totalPages,i=(a.itemsOnPage,t.length),c=(this.state.allItems.sort((function(e,a){return e.name<a.name?-1:e.name>a.name?1:0})),[]),u=(t.map((function(a){if(a.name.toUpperCase().includes(e.state.searchTerm.toUpperCase())||a.city.startsWith(e.state.searchTerm)||a.genre.includes(e.state.searchTerm))return c.push(a)})),[]),o=t.map((function(a){a.genre.includes(e.state.genre)&&u.push(a)})),h=[],b=t.map((function(a){a.state===e.state.location&&h.push(a)})),d=[],v=(t.map((function(a){a.state===e.state.location&&a.genre.includes(e.state.genre)&&a.name.includes(e.state.searchTerm)&&d.push(a)})),[]);t.map((function(a){a.genre.includes(e.state.genre)&&a.name.includes(e.state.searchTerm)&&v.push(a)}));if(0===i)return null;var g=["text-dark py-2 pr-4 m-0",s?"border-gray border-right":""].join(" ").trim();return Object(l.jsx)("div",{className:"pageContainer",children:Object(l.jsxs)("div",{className:"row d-flex flex-row py-5",children:[Object(l.jsx)("div",{className:"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between",children:Object(l.jsx)("div",{className:"d-flex flex-row py-4 align-items-center"})}),Object(l.jsx)("h1",{className:"title",children:"Choose A Restaurant"}),Object(l.jsx)("div",{className:"restaurantCount",children:Object(l.jsxs)("h4",{className:g,children:[Object(l.jsx)("strong",{children:i})," Restaurants to Choose From"]})}),Object(l.jsx)("div",{className:"search",children:Object(l.jsx)("input",{value:this.state.searchTerm,onChange:this.editSearchTerm,placeholder:"Search by Name,City, or Genre"})}),Object(l.jsx)("div",{className:"filter-form",children:Object(l.jsxs)("div",{className:"filters",children:[Object(l.jsx)("label",{children:"Select A State "}),Object(l.jsx)("select",{value:this.state.location||"",name:this.state.location,id:this.state.location,onChange:this.handleLocationChange,children:m.map((function(e,a){return Object(l.jsx)("option",{value:e.value,children:e.value})}))}),Object(l.jsx)("h3",{className:"resetFilters",onClick:this.resetFilters,children:"Reset Filters"}),Object(l.jsx)("label",{children:"Select a Genre"}),Object(l.jsx)("select",{value:this.state.genre||"",name:this.state.genre,id:this.state.genre,onChange:this.handleGenreChange,children:f.sort((function(e,a){return e.label<a.label?-1:e.label>a.label?1:0})).map((function(e,a){return Object(l.jsx)("option",{value:e.value,children:e.value},a)}))})]})}),Object(l.jsx)("div",{className:"filter",children:Object(l.jsx)("table",{id:"myTable",className:"restaurants",children:Object(l.jsxs)("tbody",{children:[Object(l.jsx)("tr",{children:this.createHeader()}),null!=this.state.location&&null!=this.state.genre?this.tableData(d):null!=this.state.genre&&""!=this.state.searchTerm?this.tableData(v):""===this.state.searchTerm&&null===this.state.location&&null===this.state.genre?this.tableData(n):null!=this.state.location?this.tableData(h):null!=this.state.genre?this.tableData(u):null!=this.state.location&&null!=this.state.genre&&""===this.state.searchTerm?this.tableData(c.concat(o,b)):this.tableData(c)]})})}),Object(l.jsx)(j,{totalRecords:i,pageLimit:10,pageNeighbours:1,onPageChanged:this.onChangePage}),s&&Object(l.jsxs)("span",{className:"currentPage",children:["Page ",Object(l.jsx)("span",{className:"font-weight-bold",children:s})," /"," ",Object(l.jsx)("span",{className:"font-weight-bold",children:r})]})]})})}}]),t}(s.a.Component),O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((function(a){var t=a.getCLS,l=a.getFID,n=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),l(e),n(e),s(e),r(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),O()},8:function(e){e.exports=JSON.parse('[{"value":null,"label":"..."},{"value":"AL","label":"AL"},{"value":"AK","label":"AK"},{"value":"AZ","label":"AZ"},{"value":"AR","label":"AR"},{"value":"CA","label":"CA"},{"value":"CO","label":"CO"},{"value":"CT","label":"CT"},{"value":"DE","label":"DE"},{"value":"DC","label":"DC"},{"value":"FL","label":"FL"},{"value":"GA","label":"GA"},{"value":"HI","label":"HI"},{"value":"ID","label":"ID"},{"value":"IL","label":"IL"},{"value":"IN","label":"IN"},{"value":"IA","label":"IA"},{"value":"KS","label":"KS"},{"value":"KY","label":"KY"},{"value":"LA","label":"LA"},{"value":"ME","label":"ME"},{"value":"MD","label":"MD"},{"value":"MA","label":"MA"},{"value":"MI","label":"MI"},{"value":"MN","label":"MN"},{"value":"MS","label":"MS"},{"value":"MO","label":"MO"},{"value":"MT","label":"MY"},{"value":"NE","label":"NE"},{"value":"NV","label":"NV"},{"value":"NH","label":"NH"},{"value":"NJ","label":"NJ"},{"value":"NM","label":"NM"},{"value":"NY","label":"NY"},{"value":"NC","label":"NC"},{"value":"ND","label":"ND"},{"value":"OH","label":"OH"},{"value":"OK","label":"OK"},{"value":"OR","label":"OR"},{"value":"PA","label":"PA"},{"value":"RI","label":"RI"},{"value":"SC","label":"SC"},{"value":"SD","label":"SD"},{"value":"TN","label":"TN"},{"value":"TX","label":"TX"},{"value":"UT","label":"UT"},{"value":"VT","label":"VT"},{"value":"VA","label":"VA"},{"value":"WA","label":"WA"},{"value":"WV","label":"WV"},{"value":"WI","label":"WI"},{"value":"WY","label":"WY"}]')}},[[18,1,2]]]);
//# sourceMappingURL=main.f0ea0286.chunk.js.map