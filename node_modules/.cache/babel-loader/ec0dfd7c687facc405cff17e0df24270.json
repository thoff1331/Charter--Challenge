{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/trevorhoffman/Desktop/react_projects/charter/src/App.js\";\nimport \"./App.css\";\nimport Pagination from \"./components/pagination\";\nimport stateOptions from \"./data/stateOPtions.json\";\nimport filterOptions from \"./data/filterOptions.json\";\nimport React from \"react\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.onChangePage = data => {\n      const {\n        allItems\n      } = this.state;\n      const {\n        currentPage,\n        totalPages,\n        pageLimit\n      } = data;\n      const offset = (currentPage - 1) * pageLimit;\n      const currentItems = allItems.slice(offset, offset + pageLimit);\n      this.setState({\n        currentPage,\n        currentItems,\n        totalPages\n      });\n    };\n\n    this.tableData = items => {\n      return items.map((restaurant, index) => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.address1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.state\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.telephone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: restaurant.attire\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this);\n      });\n    };\n\n    this.createHeader = () => {\n      let header = [\"Name\", \"Address\", \"City\", \"State\", \"Phone Number\", \"Genre\", \"Attire\"];\n      return header.map((row, index) => {\n        return /*#__PURE__*/_jsxDEV(\"th\", {\n          children: row.toUpperCase()\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 14\n        }, this);\n      });\n    };\n\n    this.editSearchTerm = e => {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.dynamicSearch = () => {\n      return this.state.allItems.filter(name => name.includes(this.state.searchTerm) || name.city === this.state.searchTerm || name.genre.includes(this.state.searchTerm));\n    };\n\n    this.handleGenreChange = event => {\n      this.setState({\n        genre: event.target.value\n      });\n    };\n\n    this.handleLocationChange = event => {\n      this.setState({\n        location: event.target.value\n      });\n    };\n\n    this.resetFilters = () => {\n      this.setState({\n        location: stateOptions[0].label,\n        genre: null\n      });\n      window.location.reload();\n    };\n\n    this.state = {\n      allItems: [],\n      currentItems: [],\n      currentPage: null,\n      totalPages: null,\n      searchTerm: \"\",\n      genre: null,\n      location: null\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://code-challenge.spectrumtoolbox.com/api/restaurants\", {\n      headers: {\n        Authorization: \"Api-Key q3MNxtfep8Gt\"\n      }\n    }).then(res => res.json()).then(allItems => {\n      this.setState({\n        allItems\n      });\n    });\n  }\n\n  render() {\n    const {\n      allItems,\n      currentItems,\n      currentPage,\n      totalPages,\n      itemsOnPage\n    } = this.state;\n    const totalItems = allItems.length;\n    const sortedItems = this.state.allItems.sort(function (a, b) {\n      if (a.name < b.name) {\n        return -1;\n      }\n\n      if (a.name > b.name) {\n        return 1;\n      }\n\n      return 0;\n    });\n    const searched = [];\n    const filteredRestaurants = allItems.map(restaurant => {\n      if (restaurant.name.toUpperCase().includes(this.state.searchTerm.toUpperCase()) || restaurant.city.startsWith(this.state.searchTerm) || restaurant.genre.includes(this.state.searchTerm)) {\n        return searched.push(restaurant);\n      }\n    });\n    const genreArray = [];\n    const genreFiltered = allItems.map(restaurant => {\n      if (restaurant.genre.includes(this.state.genre)) {\n        genreArray.push(restaurant);\n      }\n    });\n    const locationArray = [];\n    const locationFiltered = allItems.map(restaurant => {\n      if (restaurant.state === this.state.location) {\n        locationArray.push(restaurant);\n      }\n    });\n    const bothFiltersActive = [];\n    const bothFilters = allItems.map(restaurant => {\n      if (restaurant.state === this.state.location && restaurant.genre.includes(this.state.genre) && restaurant.name.includes(this.state.searchTerm)) {\n        bothFiltersActive.push(restaurant);\n      }\n    });\n    const searchAndGenreActive = [];\n    const searchAndGenre = allItems.map(restaurant => {\n      if (restaurant.genre.includes(this.state.genre) && restaurant.name.includes(this.state.searchTerm)) {\n        searchAndGenreActive.push(restaurant);\n      }\n    });\n    if (totalItems === 0) return null;\n    const headerClass = [\"text-dark py-2 pr-4 m-0\", currentPage ? \"border-gray border-right\" : \"\"].join(\" \").trim();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex flex-row py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-row py-4 align-items-center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"Choose A Restaurant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"restaurantCount\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: headerClass,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: totalItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), \" Restaurants to Choose From\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.searchTerm,\n            onChange: this.editSearchTerm,\n            placeholder: \"Search by Name,City, or Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Select A State \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: this.state.location || \"\",\n              name: this.state.location,\n              id: this.state.location,\n              onChange: this.handleLocationChange,\n              children: stateOptions.map((abbr, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: abbr.value,\n                  children: abbr.value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 26\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"resetFilters\",\n              onClick: this.resetFilters,\n              children: \"Reset Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Select a Genre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: this.state.genre || \"\",\n              name: this.state.genre,\n              id: this.state.genre,\n              onChange: this.handleGenreChange,\n              children: filterOptions.sort(function (a, b) {\n                if (a.label < b.label) {\n                  return -1;\n                }\n\n                if (a.label > b.label) {\n                  return 1;\n                }\n\n                return 0;\n              }).map((genre, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: genre.value,\n                  children: genre.value\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            id: \"myTable\",\n            className: \"restaurants\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: this.createHeader()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), this.state.location != null && this.state.genre != null ? this.tableData(bothFiltersActive) : this.state.genre != null && this.state.searchTerm != \"\" ? this.tableData(searchAndGenreActive) : this.state.searchTerm === \"\" && this.state.location === null && this.state.genre === null ? this.tableData(currentItems) : this.state.location != null ? this.tableData(locationArray) : this.state.genre != null ? this.tableData(genreArray) : this.state.location != null && this.state.genre != null && this.state.searchTerm === \"\" ? this.tableData(searched.concat(genreFiltered, locationFiltered)) : this.tableData(searched)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          totalRecords: totalItems,\n          pageLimit: 10,\n          pageNeighbours: 1,\n          onPageChanged: this.onChangePage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), currentPage && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"currentPage\",\n          children: [\"Page \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-weight-bold\",\n            children: currentPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 20\n          }, this), \" /\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-weight-bold\",\n            children: totalPages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/trevorhoffman/Desktop/react_projects/charter/src/App.js"],"names":["Pagination","stateOptions","filterOptions","React","App","Component","constructor","onChangePage","data","allItems","state","currentPage","totalPages","pageLimit","offset","currentItems","slice","setState","tableData","items","map","restaurant","index","name","address1","city","telephone","genre","attire","createHeader","header","row","toUpperCase","editSearchTerm","e","searchTerm","target","value","dynamicSearch","filter","includes","handleGenreChange","event","handleLocationChange","location","resetFilters","label","window","reload","componentDidMount","fetch","headers","Authorization","then","res","json","render","itemsOnPage","totalItems","length","sortedItems","sort","a","b","searched","filteredRestaurants","startsWith","push","genreArray","genreFiltered","locationArray","locationFiltered","bothFiltersActive","bothFilters","searchAndGenreActive","searchAndGenre","headerClass","join","trim","abbr","concat"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport Pagination from \"./components/pagination\";\nimport stateOptions from \"./data/stateOPtions.json\";\nimport filterOptions from \"./data/filterOptions.json\";\nimport React from \"react\";\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      allItems: [],\n      currentItems: [],\n      currentPage: null,\n      totalPages: null,\n      searchTerm: \"\",\n      genre: null,\n      location: null,\n    };\n  }\n  componentDidMount() {\n    fetch(\"https://code-challenge.spectrumtoolbox.com/api/restaurants\", {\n      headers: {\n        Authorization: \"Api-Key q3MNxtfep8Gt\",\n      },\n    })\n      .then((res) => res.json())\n      .then((allItems) => {\n        this.setState({\n          allItems,\n        });\n      });\n  }\n  onChangePage = (data) => {\n    const { allItems } = this.state;\n    const { currentPage, totalPages, pageLimit } = data;\n    const offset = (currentPage - 1) * pageLimit;\n    const currentItems = allItems.slice(offset, offset + pageLimit);\n\n    this.setState({ currentPage, currentItems, totalPages });\n  };\n  tableData = (items) => {\n    return items.map((restaurant, index) => {\n      return (\n        <tr key={index}>\n          <td>{restaurant.name}</td>\n          <td>{restaurant.address1}</td>\n          <td>{restaurant.city}</td>\n          <td>{restaurant.state}</td>\n          <td>{restaurant.telephone}</td>\n          <td>{restaurant.genre}</td>\n          <td>{restaurant.attire}</td>\n        </tr>\n      );\n    });\n  };\n  createHeader = () => {\n    let header = [\n      \"Name\",\n      \"Address\",\n      \"City\",\n      \"State\",\n      \"Phone Number\",\n      \"Genre\",\n      \"Attire\",\n    ];\n    return header.map((row, index) => {\n      return <th key={index}>{row.toUpperCase()}</th>;\n    });\n  };\n  editSearchTerm = (e) => {\n    this.setState({ searchTerm: e.target.value });\n  };\n  dynamicSearch = () => {\n    return this.state.allItems.filter(\n      (name) =>\n        name.includes(this.state.searchTerm) ||\n        name.city === this.state.searchTerm ||\n        name.genre.includes(this.state.searchTerm)\n    );\n  };\n  handleGenreChange = (event) => {\n    this.setState({ genre: event.target.value });\n  };\n\n  handleLocationChange = (event) => {\n    this.setState({ location: event.target.value });\n  };\n  resetFilters = () => {\n    this.setState({\n      location: stateOptions[0].label,\n      genre: null,\n    });\n    window.location.reload();\n  };\n  render() {\n    const {\n      allItems,\n      currentItems,\n      currentPage,\n      totalPages,\n      itemsOnPage,\n    } = this.state;\n    const totalItems = allItems.length;\n    const sortedItems = this.state.allItems.sort(function (a, b) {\n      if (a.name < b.name) {\n        return -1;\n      }\n      if (a.name > b.name) {\n        return 1;\n      }\n      return 0;\n    });\n    const searched = [];\n    const filteredRestaurants = allItems.map((restaurant) => {\n      if (\n        restaurant.name\n          .toUpperCase()\n          .includes(this.state.searchTerm.toUpperCase()) ||\n        restaurant.city.startsWith(this.state.searchTerm) ||\n        restaurant.genre.includes(this.state.searchTerm)\n      ) {\n        return searched.push(restaurant);\n      }\n    });\n    const genreArray = [];\n    const genreFiltered = allItems.map((restaurant) => {\n      if (restaurant.genre.includes(this.state.genre)) {\n        genreArray.push(restaurant);\n      }\n    });\n    const locationArray = [];\n    const locationFiltered = allItems.map((restaurant) => {\n      if (restaurant.state === this.state.location) {\n        locationArray.push(restaurant);\n      }\n    });\n    const bothFiltersActive = [];\n\n    const bothFilters = allItems.map((restaurant) => {\n      if (\n        restaurant.state === this.state.location &&\n        restaurant.genre.includes(this.state.genre) &&\n        restaurant.name.includes(this.state.searchTerm)\n      ) {\n        bothFiltersActive.push(restaurant);\n      }\n    });\n    const searchAndGenreActive = [];\n\n    const searchAndGenre = allItems.map((restaurant) => {\n      if (\n        restaurant.genre.includes(this.state.genre) &&\n        restaurant.name.includes(this.state.searchTerm)\n      ) {\n        searchAndGenreActive.push(restaurant);\n      }\n    });\n\n    if (totalItems === 0) return null;\n    const headerClass = [\n      \"text-dark py-2 pr-4 m-0\",\n      currentPage ? \"border-gray border-right\" : \"\",\n    ]\n      .join(\" \")\n      .trim();\n\n    return (\n      <div className=\"pageContainer\">\n        <div className=\"row d-flex flex-row py-5\">\n          <div className=\"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\">\n            <div className=\"d-flex flex-row py-4 align-items-center\"></div>\n          </div>\n          <h1 className=\"title\">Choose A Restaurant</h1>\n          <div className=\"restaurantCount\">\n            <h4 className={headerClass}>\n              <strong>{totalItems}</strong> Restaurants to Choose From\n            </h4>\n          </div>\n\n          <div className=\"search\">\n            <input\n              value={this.state.searchTerm}\n              onChange={this.editSearchTerm}\n              placeholder=\"Search by Name,City, or Genre\"\n            />\n          </div>\n          <div className=\"filter-form\">\n            <div className=\"filters\">\n              <label>Select A State </label>\n              <select\n                value={this.state.location || \"\"}\n                name={this.state.location}\n                id={this.state.location}\n                onChange={this.handleLocationChange}\n              >\n                {stateOptions.map((abbr, index) => {\n                  return <option value={abbr.value}>{abbr.value}</option>;\n                })}\n              </select>\n              <h3 className=\"resetFilters\" onClick={this.resetFilters}>\n                Reset Filters\n              </h3>\n              <label>Select a Genre</label>\n              <select\n                value={this.state.genre || \"\"}\n                name={this.state.genre}\n                id={this.state.genre}\n                onChange={this.handleGenreChange}\n              >\n                {filterOptions\n                  .sort(function (a, b) {\n                    if (a.label < b.label) {\n                      return -1;\n                    }\n                    if (a.label > b.label) {\n                      return 1;\n                    }\n                    return 0;\n                  })\n                  .map((genre, index) => {\n                    return (\n                      <option key={index} value={genre.value}>\n                        {genre.value}\n                      </option>\n                    );\n                  })}\n              </select>\n            </div>\n          </div>\n          <div className=\"filter\">\n            <table id=\"myTable\" className=\"restaurants\">\n              <tbody>\n                <tr>{this.createHeader()}</tr>\n                {this.state.location != null && this.state.genre != null\n                  ? this.tableData(bothFiltersActive)\n                  : this.state.genre != null && this.state.searchTerm != \"\"\n                  ? this.tableData(searchAndGenreActive)\n                  : this.state.searchTerm === \"\" &&\n                    this.state.location === null &&\n                    this.state.genre === null\n                  ? this.tableData(currentItems)\n                  : this.state.location != null\n                  ? this.tableData(locationArray)\n                  : this.state.genre != null\n                  ? this.tableData(genreArray)\n                  : this.state.location != null &&\n                    this.state.genre != null &&\n                    this.state.searchTerm === \"\"\n                  ? this.tableData(\n                      searched.concat(genreFiltered, locationFiltered)\n                    )\n                  : this.tableData(searched)}\n              </tbody>\n            </table>\n          </div>\n          <Pagination\n            totalRecords={totalItems}\n            pageLimit={10}\n            pageNeighbours={1}\n            onPageChanged={this.onChangePage}\n          />\n          {currentPage && (\n            <span className=\"currentPage\">\n              Page <span className=\"font-weight-bold\">{currentPage}</span> /{\" \"}\n              <span className=\"font-weight-bold\">{totalPages}</span>\n            </span>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}